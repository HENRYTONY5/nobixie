<%- include("template/header") %>
    <%- include("template/navbar") %>
        <%- include("template/aside") %>
        <script>
            function confirmation_encuesta() {
// Mostrar ventana emergente SweetAlert2
Swal.fire({
    title: 'Ingrese su ID de Empleado',
    input: 'text',
    inputAttributes: {
        autocapitalize: 'off',
        placeholder: 'ID Empleado'
    },
    showCancelButton: true,
    confirmButtonText: 'Aceptar',
    cancelButtonText: 'Cancelar',
    showLoaderOnConfirm: true,
    preConfirm: (id_empleado) => {
        // Validación AJAX para verificar si el id_empleado existe
        return fetch('/asistencia/auth', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ id_empleado: id_empleado  })
        })
        .then(response => {
            if (!response.ok) {
                throw new Error(response.statusText);
            }
            return response.json();
        })
        .then(data => {
            if (!data.success) {
                throw new Error('ID de empleado no encontrado');
            }
        })
        .catch(error => {
            Swal.showValidationMessage(`Error: ${error}`);
        });
    },
    allowOutsideClick: () => !Swal.isLoading()
}).then((result) => {
    if (result.isConfirmed) {
        
        // Si el empleado fue validado correctamente, redirige al curso
        Swal.fire({
                title: 'Acceso autorizado',
                text: 'Usuario encontrado, redirigiendo...',
                icon: 'success'
            }).then(() => {
                window.location.href = '/events'; // Redirige al usuario a la página
            });
    }
});
}

        </script>
        <link rel="stylesheet" href="/css/style.css">
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                <%- include('template/breadcrumb', {module: 'Principal' }) %>
                    <!-- Content Header (Page header) -->
                    <section class="content-header">
                        <div class="container-fluid">
                            <div class="row mb-2">
                                <div class="col-md-12">

                                    <div class="card">
                                        <div class="card-header">
                                            Buen día, Inge. 											
											

                                            <script>
                                                document.getElementById('instrucciones-leidas').addEventListener('click', function() {
                                                // Ocultar las instrucciones cuando se presiona el botón
                                                document.getElementById('instrucciones').style.display = 'none';
                                                });// El colapso del ícono seguirá funcionando debido a AdminLTE, no necesitas manejar el colapso aquí.
                                                // Pero para mostrar la sección nuevamente si se presiona el icono, AdminLTE lo hace de forma automática.

                                            </script>
                                        
                                       </div>
                                        <div class="card-body">
                                            <h5 class="card-title"> El objetivo de esta aplicacion es mejorar la gestion de proyectos, automatizar reportes y generar informes de manera automatica en cualquier dispositivo autorizado. 	 </h5> <hr><p></p>  										
                                            <br><br>
                                            
                                            
                                            <section>
                                                <div class="container mt-4">
                                                    <!-- Título estático -->
                                                    
                                                        </div>
                                                        <!-- Contenido del cuestionario (colapsable) -->
                                                        
                                                    </div>
                                                </div>
                                            </section>

                                           <section>       <!-- Contenedor de las tarjetas -->
                                                <div class="container">
                                                 <div class="row">
                                                    <!-- Tarjeta 1 -->
                                                    <div class="col-md-3 col-sm-6 col-12">
                                                      <div class="card">
                                                       <div class="card-header d-flex juastify-content-between align-items-center">
                                                            <h3 class="card-title mb-0">Nuevo empleado: Capturar Datos Generales </h3>

                                                            <div class="card-tools">
                                                                    <!-- Botón para colapsar la tarjeta -->
                                                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                                                <i class="fas fa-minus"></i>
                                                            </button>
                                                        </div>
                                                    </div>  

                                            <div class="card-body">
                                                <p>N: respuestas</p>
                                                 <a href="/data" onclick="confirmation_encuesta();" class="btn btn-info"> Empezar <i class="fa-regular fa-pen-to-square"></i></a>
                                                    <a href="/tabledata"onclick="confirmation_respuesta();" class="btn btn-danger"> Informe <i class="fa-solid fa-file"></i></a>
                                                        
                </div>
            </div>
                                                    </div>

        <!-- Tarjeta 2 -->
<div class="col-md-3 col-sm-6 col-12">
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h3 class="card-title mb-0">Historico de asistencia</h3>
            <div class="card-tools">
                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                </button>
            </div>
        </div>

        <div class="card-body">
            <p>3: respuestas</p>
            <a href="#" onclick="confirmation_encuesta();" class="btn btn-info">
                Empezar <i class="fa-regular fa-pen-to-square"></i>
            </a>
            <a href="/res_events" onclick="confirmation_respuesta();" class="btn btn-danger">
                Informe <i class="fa-solid fa-file"></i>
            </a>
        </div>
    </div>
</div>

<!-- Modal de Inicio de Sesión -->
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Iniciar Sesión</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <form id="loginForm1">
                    <div class="form-group">
                        <label for="idEmpleado">ID Empleado</label>
                        <input type="text" class="form-control" id="idEmpleado" placeholder="Ingrese su ID de empleado">
                    </div>

                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <input type="password" class="form-control" id="password" placeholder="Ingrese su contraseña">
                    </div>

                    <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
                </form>
            </div>

        </div>
    </div>
</div>


<!-- Tarjeta 3 -->
<div class="col-md-3 col-sm-6 col-12">
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h3 class="card-title mb-0">Agregar acta disiplinaria</h3>
            <div class="card-tools">
                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                </button>
            </div>
        </div>

        <div class="card-body">
            <p>3: respuestas</p>
            <a href="/guia2" onclick="confirmation_encuesta();" class="btn btn-info">
                Empezar <i class="fa-regular fa-pen-to-square"></i>
            </a>
            <a href="/res_guia2" onclick="confirmation_respuesta();" class="btn btn-danger">
                Informe <i class="fa-solid fa-file"></i>
            </a>
        </div>
    </div>
</div>

<!-- Tarjeta 4 -->
<div class="col-md-3 col-sm-6 col-12">
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h3 class="card-title mb-0">Facturación de compras.</h3>
            <div class="card-tools">
                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                </button>
            </div>
        </div>

        <div class="card-body">
            <p>3: respuestas</p>
            <a href="/guia2" onclick="confirmation_encuesta();" class="btn btn-info">
                Empezar <i class="fa-regular fa-pen-to-square"></i>
            </a>
            <a href="/res_guia2" onclick="confirmation_respuesta();" class="btn btn-danger">
                Informe <i class="fa-solid fa-file"></i>
            </a>
        </div>
    </div>
</div>

    </div>
</div>

                                        </section> 
                                        </div>

                                        
                                        
                                    </div>
                                    
                                </div>
                            </div>
                        </div><!-- /.container-fluid -->
                    </section>

                    <!-- /.content -->
            </div>
            <!-- /.content-wrapper -->
            
            <%- include("template/footer") %>